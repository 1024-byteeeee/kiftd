KIFT——快捷、强大、小巧的开源网盘系统

【青阳网络文件系统自述文档】

>简介

######kift有什么优势？
1，使用简单。只需一个浏览器，您就可以在办公室内、家中、小型局域网内共享您的任何文件，甚至是让您的朋友在线播放上传的视频——而无需下载。
2，功能齐全。您只想将删除文件的权利给与您信任的人？您想让您的学生只能上传自己的作业而不能下载抄袭其他人的作业？kitf的权限管理能力能轻松完成您的需求。
3，开源免费。无需任何投入，您需要做的仅仅是下载，解压，然后开始使用。就是这么简单。害怕它隐藏不知名的代码偷用您的资源“挖矿”？现在，您可以在github上随时查看和拷贝本应用的全部源代码，并自己动手编译它。您还可以根据自己的喜好随意修改它，无论如何，一切任由您操作。

######资源导航:
您可以阅读github上的快速开始：https://github.com/KOHGYLW/kiftd/wiki 。
下载源代码请前往这个地址：https://github.com/KOHGYLW/KohgylwIFT 。
*如果您仅仅需要马上建立一个可用的网盘，请阅读下方《1分钟快速部署》部分。

>使用前请注意
######如果您使用本应用，即视为同意下列条款：
1，本应用无使用限制，但使用本应用所造成的任何后果需由使用者本人承担（包括但不限于：非法传播文件导致的后果）。
2，任何人均可以复制、修改和编译本应用的源代码，但所造成的任何后果均由修改者本人自行承担。

######1分钟快速部署：

第一步：安装java 8或以上版本的java环境。

第二步：按照下列操作启动您的服务器：
windows:
进入bin目录，运行startup.bat文件。
使用浏览器（推荐使用Chrome或FireFox或其内核的浏览器）访问127.0.0.1。例如，如果您用的是360安全浏览器，那么您应该使用“极速模式”访问本应用。
Linux/Unix(含Mac OS X):
使用终端进入bin目录，以Root权限运行startup.sh文件：
sudo ./startup.sh
使用浏览器访问127.0.0.1。（可以参见windows的这一步操作，完全一样）

第三步：进入主页
在局域网内其他主机上，使用浏览器访问您本机IP地址，即可进入本系统。

第四步：测试管理功能
使用内置用户(admin,000000)进行登录，并进行创建文件夹、删除文件或文件夹、上传文件操作。

>主要功能

######mp4与webm格式资源在线播放
上传至本系统的全部mp4资源和webm资源均可使用在线播放功能，需要用户具备[下载]权限。点击文件后方操作栏中的“播放”按钮即可。点击页面右上方停止播放并返回按钮返回应用主页。

######用户授权:
进入 webapps/ROOT/etc 目录，使用文本编辑器打开configure.properties文件，按照其中的示例和提示进行用户的添加、密码设定以及授权操作。

######修改下载缓冲区大小:
下载缓冲区决定了服务器使用多少内存为用户提供下载缓冲。进入 webapps/ROOT/etc 目录，使用文本编辑器打开configure.properties文件，更改buff.size参数。该参数不可超过2147483647且不可超过您计算机的内存大小。单位为byte（单位换算：1MB=1024KB=1024*1024byte）。
注意，如果您需要更优化的性能处理高并发下载，请配置bin目录下的catline.bat(windows)或catline.sh(Unix/Linux)文件，修改相应的JVM参数，默认内存堆大小为1GB。

######关闭服务器:
windows:
进入bin目录，运行shutdown.dat文件。
Linux/Unix(含Mac OS X):
使用终端进入bin目录，运行shutdown.sh文件：
./shutdown.sh

######关于服务器文件:
除了服务器主目录内的所有文件外，本应用还会在您的用户目录下生成KohgylwIFT文件夹，内部存放有运行服务器所必须的信息和日志文件。请勿在服务器运行的过程中修改或删除其内容。

######卸载:
删除服务器主目录并删除您用户目录下“文档”文件夹内的KohgylwIFT文件夹即可。

######查看日志信息:
系统提供了三级日志记录功能。如果您开启了日志记录（在应用主目录/webapps/ROOT/etc/configure.properties文件内设置log项为“R”或“E”，默认为“E”），那么系统会以纯文本的形式记录日志，并以纯文本的形式存放在您的用户目录下的“文档/KohgylwIFT/log”文件夹内（Linux:~/Documents/KohgylwIFT/log），日志文件的命名格式为“XXXX_XX_XX.klog”，它表示日志的创建日期。文件内每条日志记录以空行隔开。
日志记录分为两类：Exception和Event
前者表示该条记录记录的是应用在运行过程中遇到的异常信息，该信息对于调试和恢复系统具有重大作用。后者表示该条记录记录的是用户的操作过程（如果日志等级设定为E），例如删除文件和下载文件，它会记录操作者账户ACCOUNT、操作类型OPERATE、文件所在的路径PATH、文件名NAME等信息，您可以根据该信息了解所有用户的关键操作历史，方便您进行系统维护和管理。
具体设置请参见configure.properties文件内的配置说明。
